@model CineGT.Models.LogSesionesModel

<h2>Reporte de Log de Sesiones</h2>

@using (Html.BeginForm("ObtenerLogSesiones", "Reportes", FormMethod.Post))
{
    <div>
        <label for="FechaInicio">Fecha de Inicio:</label>
        <input type="date" id="FechaInicio" name="FechaInicio" value="@Model.FechaInicio?.ToString("yyyy-MM-dd")" required />
    </div>

    <div>
        <label for="FechaFin">Fecha de Fin:</label>
        <input type="date" id="FechaFin" name="FechaFin" value="@Model.FechaFin?.ToString("yyyy-MM-dd")" required />
    </div>

    <div>
        <button type="submit">Generar Reporte</button>
    </div>
}

@if (Model.LogSesiones != null && Model.LogSesiones.Count > 0)
{
    <h3>Reporte de Log de Sesiones</h3>
    <table>
        <thead>
            <tr>
                <th>ID Log</th>
                <th>Descripción Log</th>
                <th>Fecha Log</th>
                <th>ID Usuario</th>
                <th>ID Película</th>
                <th>Nombre Película</th>
                <th>Duración Película</th>
                <th>Clasificación Película</th>
                <th>Descripción Película</th>
                <th>ID Función</th>
                <th>Fecha Inicio Función</th>
                <th>Fecha Fin Función</th>
                <th>Precio Función</th>
                <th>Sala Función</th>
                <th>Estado Función</th>
                <th>Disponibilidad Función</th>
                <th>Capacidad Sala</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model.LogSesiones)
            {
                <tr>
                    <td>@item.IdLogSesion</td>
                    <td>@item.DescripcionLog</td>
                    <td>@item.FechaLog.ToString("yyyy-MM-dd HH:mm")</td>
                    <td>@item.IdUsuarioLog</td>
                    <td>@item.IdPelicula</td>
                    <td>@item.NombrePelicula</td>
                    <td>@item.DuracionPelicula</td>
                    <td>@item.ClasificacionPelicula</td>
                    <td>@item.DescripcionPelicula</td>
                    <td>@item.IdFuncion</td>
                    <td>@item.FechaInicioFuncion.ToString("yyyy-MM-dd HH:mm")</td>
                    <td>@item.FechaFinFuncion.ToString("yyyy-MM-dd HH:mm")</td>
                    <td>@item.PrecioFuncion</td>
                    <td>@item.SalaFuncion</td>
                    <td>@item.EstadoFuncion</td>
                    <td>@item.DisponibilidadFuncion</td>
                    <td>@item.CapacidadSala</td>
                </tr>
            }
        </tbody>
    </table>
}
else
{
    <p>No se encontraron resultados para el rango de fechas seleccionado.</p>
}
